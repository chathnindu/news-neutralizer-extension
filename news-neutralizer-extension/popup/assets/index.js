var lr=Object.defineProperty;var an=e=>{throw TypeError(e)};var fr=(e,t,n)=>t in e?lr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _e=(e,t,n)=>fr(e,typeof t!="symbol"?t+"":t,n),Ft=(e,t,n)=>t.has(e)||an("Cannot "+n);var h=(e,t,n)=>(Ft(e,t,"read from private field"),n?n.call(e):t.get(e)),P=(e,t,n)=>t.has(e)?an("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),he=(e,t,n,s)=>(Ft(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Ue=(e,t,n)=>(Ft(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const or="5";var yn;typeof window<"u"&&((yn=window.__svelte??(window.__svelte={})).v??(yn.v=new Set)).add(or);const ar=1,ur=2,cr=16,vr=1,dr=2,$=Symbol(),_r=Symbol("filename"),hr="http://www.w3.org/1999/xhtml";var En,bn;const un=(bn=(En=globalThis.process)==null?void 0:En.env)==null?void 0:bn.NODE_ENV,y=un&&!un.toLowerCase().startsWith("prod");var Sn=Array.isArray,pr=Array.prototype.indexOf,Ie=Array.prototype.includes,Zt=Array.from,We=Object.defineProperty,mt=Object.getOwnPropertyDescriptor,gr=Object.getOwnPropertyDescriptors,mr=Object.prototype,wr=Array.prototype,xn=Object.getPrototypeOf;function yr(e){for(var t=0;t<e.length;t++)e[t]()}function kn(){var e,t,n=new Promise((s,r)=>{e=s,t=r});return{promise:n,resolve:e,reject:t}}const I=2,Lt=4,Jt=8,An=1<<24,ge=16,fe=32,Ze=64,Tn=128,ee=512,F=1024,Y=2048,Ne=4096,K=8192,Se=16384,Xt=32768,rt=65536,yt=1<<17,Nn=1<<18,Ct=1<<19,Er=1<<20,be=1<<25,Ae=32768,Dt=1<<21,Mt=1<<22,xe=1<<23,Pt=Symbol("$state"),Cn=Symbol("proxy path"),ze=new class extends Error{constructor(){super(...arguments);_e(this,"name","StaleReactionError");_e(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function br(){if(y){const e=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function Sr(){if(y){const e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function xr(e){if(y){const t=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function kr(){if(y){const e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ar(e){if(y){const t=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/effect_orphan")}function Tr(){if(y){const e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Nr(e){if(y){const t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function Cr(){if(y){const e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Mr(){if(y){const e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Rr(){if(y){const e=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Mn(e){return e===this.v}function Or(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Rn(e){return!Or(e,this.v)}let Fr=!1;function ye(e,t){return e.label=t,On(e.v,t),e}function On(e,t){var n;return(n=e==null?void 0:e[Cn])==null||n.call(e,t),e}function Pr(e){const t=new Error,n=$r();return n.length===0?null:(n.unshift(`
`),We(t,"stack",{value:n.join(`
`)}),We(t,"name",{value:e}),t)}function $r(){const e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const t=new Error().stack;if(Error.stackTraceLimit=e,!t)return[];const n=t.split(`
`),s=[];for(let r=0;r<n.length;r++){const i=n[r],l=i.replaceAll("\\","/");if(i.trim()!=="Error"){if(i.includes("validate_each_keys"))return[];l.includes("svelte/src/internal")||l.includes("node_modules/.vite")||s.push(i)}}return s}let H=null;function Et(e){H=e}let st=null;function bt(e){st=e}let dt=null;function cn(e){dt=e}function Qt(e,t=!1,n){H={p:H,i:!1,c:null,e:null,s:e,x:null,l:null},y&&(H.function=n,dt=n)}function en(e){var t=H,n=t.e;if(n!==null){t.e=null;for(var s of n)Gn(s)}return t.i=!0,H=t.p,y&&(dt=(H==null?void 0:H.function)??null),{}}function Fn(){return!0}let Ve=[];function qr(){var e=Ve;Ve=[],yr(e)}function vn(e){if(Ve.length===0){var t=Ve;queueMicrotask(()=>{t===Ve&&qr()})}Ve.push(e)}const jt=new WeakMap;function Ir(e){var t=k;if(t===null)return b.f|=xe,e;if(y&&e instanceof Error&&!jt.has(e)&&jt.set(e,Lr(e,t)),(t.f&Xt)===0){if((t.f&Tn)===0)throw y&&!t.parent&&e instanceof Error&&Pn(e),e;t.b.error(e)}else St(e,t)}function St(e,t){for(;t!==null;){if((t.f&Tn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw y&&e instanceof Error&&Pn(e),e}function Lr(e,t){var l,f,v;const n=mt(e,"message");if(!(n&&!n.configurable)){for(var s="	",r=`
${s}in ${((l=t.fn)==null?void 0:l.name)||"<unknown>"}`,i=t.ctx;i!==null;)r+=`
${s}in ${(f=i.function)==null?void 0:f[_r].split("/").pop()}`,i=i.p;return{message:e.message+`
${r}
`,stack:(v=e.stack)==null?void 0:v.split(`
`).filter(c=>!c.includes("svelte/src/internal")).join(`
`)}}}function Pn(e){const t=jt.get(e);t&&(We(e,"message",{value:t.message}),We(e,"stack",{value:t.stack}))}const Dr=-7169;function L(e,t){e.f=e.f&Dr|t}function tn(e){(e.f&ee)!==0||e.deps===null?L(e,F):L(e,Ne)}function $n(e){if(e!==null)for(const t of e)(t.f&I)===0||(t.f&Ae)===0||(t.f^=Ae,$n(t.deps))}function jr(e,t,n){(e.f&Y)!==0?t.add(e):(e.f&Ne)!==0&&n.add(e),$n(e.deps),L(e,F)}const gt=new Set;let x=null,q=null,re=[],nn=null,Ut=!1;var He,Ye,Re,Be,at,ut,Oe,Ge,de,zt,Vt,qn;const on=class on{constructor(){P(this,de);_e(this,"committed",!1);_e(this,"current",new Map);_e(this,"previous",new Map);P(this,He,new Set);P(this,Ye,new Set);P(this,Re,0);P(this,Be,0);P(this,at,null);P(this,ut,new Set);P(this,Oe,new Set);_e(this,"skipped_effects",new Set);_e(this,"is_fork",!1);P(this,Ge,!1)}is_deferred(){return this.is_fork||h(this,Be)>0}process(t){var r;re=[],this.apply();var n=[],s=[];for(const i of t)Ue(this,de,zt).call(this,i,n,s);if(this.is_deferred()){Ue(this,de,Vt).call(this,s),Ue(this,de,Vt).call(this,n);for(const i of this.skipped_effects)Dn(i)}else{for(const i of h(this,He))i();h(this,He).clear(),h(this,Re)===0&&Ue(this,de,qn).call(this),x=null,dn(s),dn(n),(r=h(this,at))==null||r.resolve()}q=null}capture(t,n){n!==$&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&xe)===0&&(this.current.set(t,t.v),q==null||q.set(t,t.v))}activate(){x=this,this.apply()}deactivate(){x===this&&(x=null,q=null)}flush(){if(this.activate(),re.length>0){if(Ur(),x!==null&&x!==this)return}else h(this,Re)===0&&this.process([]);this.deactivate()}discard(){for(const t of h(this,Ye))t(this);h(this,Ye).clear()}increment(t){he(this,Re,h(this,Re)+1),t&&he(this,Be,h(this,Be)+1)}decrement(t){he(this,Re,h(this,Re)-1),t&&he(this,Be,h(this,Be)-1),!h(this,Ge)&&(he(this,Ge,!0),vn(()=>{he(this,Ge,!1),this.is_deferred()?re.length>0&&this.flush():this.revive()}))}revive(){for(const t of h(this,ut))h(this,Oe).delete(t),L(t,Y),Le(t);for(const t of h(this,Oe))L(t,Ne),Le(t);this.flush()}oncommit(t){h(this,He).add(t)}ondiscard(t){h(this,Ye).add(t)}settled(){return(h(this,at)??he(this,at,kn())).promise}static ensure(){if(x===null){const t=x=new on;gt.add(x),vn(()=>{x===t&&t.flush()})}return x}apply(){}};He=new WeakMap,Ye=new WeakMap,Re=new WeakMap,Be=new WeakMap,at=new WeakMap,ut=new WeakMap,Oe=new WeakMap,Ge=new WeakMap,de=new WeakSet,zt=function(t,n,s){t.f^=F;for(var r=t.first,i=null;r!==null;){var l=r.f,f=(l&(fe|Ze))!==0,v=f&&(l&F)!==0,c=v||(l&K)!==0||this.skipped_effects.has(r);if(!c&&r.fn!==null){f?r.f^=F:i!==null&&(l&(Lt|Jt|An))!==0?i.b.defer_effect(r):(l&Lt)!==0?n.push(r):ht(r)&&((l&ge)!==0&&h(this,Oe).add(r),ot(r));var d=r.first;if(d!==null){r=d;continue}}var a=r.parent;for(r=r.next;r===null&&a!==null;)a===i&&(i=null),r=a.next,a=a.parent}},Vt=function(t){for(var n=0;n<t.length;n+=1)jr(t[n],h(this,ut),h(this,Oe))},qn=function(){var r;if(gt.size>1){this.previous.clear();var t=q,n=!0;for(const i of gt){if(i===this){n=!1;continue}const l=[];for(const[v,c]of this.current){if(i.current.has(v))if(n&&c!==i.current.get(v))i.current.set(v,c);else continue;l.push(v)}if(l.length===0)continue;const f=[...i.current.keys()].filter(v=>!this.current.has(v));if(f.length>0){var s=re;re=[];const v=new Set,c=new Map;for(const d of l)In(d,f,v,c);if(re.length>0){x=i,i.apply();for(const d of re)Ue(r=i,de,zt).call(r,d,[],[]);i.deactivate()}re=s}}x=null,q=t}this.committed=!0,gt.delete(this)};let xt=on;function Ur(){Ut=!0;var e=y?new Set:null;try{for(var t=0;re.length>0;){var n=xt.ensure();if(t++>1e3){if(y){var s=new Map;for(const i of n.current.keys())for(const[l,f]of i.updated??[]){var r=s.get(l);r||(r={error:f.error,count:0},s.set(l,r)),r.count+=f.count}for(const i of s.values())i.error&&console.error(i.error)}zr()}if(n.process(re),ke.clear(),y)for(const i of n.current.keys())e.add(i)}}finally{if(Ut=!1,nn=null,y)for(const i of e)i.updated=null}}function zr(){try{Tr()}catch(e){y&&We(e,"stack",{value:""}),St(e,nn)}}let ne=null;function dn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var s=e[n++];if((s.f&(Se|K))===0&&ht(s)&&(ne=new Set,ot(s),s.deps===null&&s.first===null&&s.nodes===null&&(s.teardown===null&&s.ac===null?Jn(s):s.fn=null),(ne==null?void 0:ne.size)>0)){ke.clear();for(const r of ne){if((r.f&(Se|K))!==0)continue;const i=[r];let l=r.parent;for(;l!==null;)ne.has(l)&&(ne.delete(l),i.push(l)),l=l.parent;for(let f=i.length-1;f>=0;f--){const v=i[f];(v.f&(Se|K))===0&&ot(v)}}ne.clear()}}ne=null}}function In(e,t,n,s){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const r of e.reactions){const i=r.f;(i&I)!==0?In(r,t,n,s):(i&(Mt|ge))!==0&&(i&Y)===0&&Ln(r,t,s)&&(L(r,Y),Le(r))}}function Ln(e,t,n){const s=n.get(e);if(s!==void 0)return s;if(e.deps!==null)for(const r of e.deps){if(Ie.call(t,r))return!0;if((r.f&I)!==0&&Ln(r,t,n))return n.set(r,!0),!0}return n.set(e,!1),!1}function Le(e){for(var t=nn=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ut&&t===k&&(n&ge)!==0&&(n&Nn)===0)return;if((n&(Ze|fe))!==0){if((n&F)===0)return;t.f^=F}}re.push(t)}function Dn(e){if(!((e.f&fe)!==0&&(e.f&F)!==0)){L(e,F);for(var t=e.first;t!==null;)Dn(t),t=t.next}}function Vr(e,t,n,s){const r=jn;var i=e.filter(u=>!u.settled);if(n.length===0&&i.length===0){s(t.map(r));return}var l=x,f=k,v=Hr(),c=i.length===1?i[0].promise:i.length>1?Promise.all(i.map(u=>u.promise)):null;function d(u){v();try{s(u)}catch(w){(f.f&Se)===0&&St(w,f)}l==null||l.deactivate(),Ht()}if(n.length===0){c.then(()=>d(t.map(r)));return}function a(){v(),Promise.all(n.map(u=>Br(u))).then(u=>d([...t.map(r),...u])).catch(u=>St(u,f))}c?c.then(a):a()}function Hr(){var e=k,t=b,n=H,s=x;if(y)var r=st;return function(l=!0){$e(e),Te(t),Et(n),l&&(s==null||s.activate()),y&&bt(r)}}function Ht(){$e(null),Te(null),Et(null),y&&bt(null)}const Yr=new Set;function jn(e){var t=I|Y,n=b!==null&&(b.f&I)!==0?b:null;return k!==null&&(k.f|=Ct),{ctx:H,deps:null,effects:null,equals:Mn,f:t,fn:e,reactions:null,rv:0,v:$,wv:0,parent:n??k,ac:null}}function Br(e,t,n){let s=k;s===null&&br();var r=s.b,i=void 0,l=it($);y&&(l.label=t);var f=!b,v=new Map;return os(()=>{var w;var c=kn();i=c.promise;try{Promise.resolve(e()).then(c.resolve,c.reject).then(()=>{d===x&&d.committed&&d.deactivate(),Ht()})}catch(o){c.reject(o),Ht()}var d=x;if(f){var a=r.is_rendered();r.update_pending_count(1),d.increment(a),(w=v.get(d))==null||w.reject(ze),v.delete(d),v.set(d,c)}const u=(o,g=void 0)=>{if(d.activate(),g)g!==ze&&(l.f|=xe,lt(l,g));else{(l.f&xe)!==0&&(l.f^=xe),lt(l,o);for(const[m,_]of v){if(v.delete(m),m===d)break;_.reject(ze)}}f&&(r.update_pending_count(-1),d.decrement(a))};c.promise.then(u,o=>u(null,o||"unknown"))}),ls(()=>{for(const c of v.values())c.reject(ze)}),y&&(l.f|=Mt),new Promise(c=>{function d(a){function u(){a===i?c(l):d(i)}a.then(u,u)}d(i)})}function Gr(e){const t=jn(e);return t.equals=Rn,t}function Yt(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)pe(t[n])}}let $t=[];function Wr(e){for(var t=e.parent;t!==null;){if((t.f&I)===0)return(t.f&Se)===0?t:null;t=t.parent}return null}function rn(e){var t,n=k;if($e(Wr(e)),y){let s=Ke;_n(new Set);try{Ie.call($t,e)&&Sr(),$t.push(e),e.f&=~Ae,Yt(e),t=Bt(e)}finally{$e(n),_n(s),$t.pop()}}else try{e.f&=~Ae,Yt(e),t=Bt(e)}finally{$e(n)}return t}function Un(e){var t=rn(e);if(!e.equals(t)&&(e.wv=tr(),(!(x!=null&&x.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){L(e,F);return}De||(q!==null?(Bn()||x!=null&&x.is_fork)&&q.set(e,t):tn(e))}let Ke=new Set;const ke=new Map;function _n(e){Ke=e}let sn=!1;function Kr(){sn=!0}function it(e,t){var n={f:0,v:e,reactions:null,equals:Mn,rv:0,wv:0};return n}function X(e,t){const n=it(e);return vs(n),n}function Zr(e,t=!1,n=!0){const s=it(e);return t||(s.equals=Rn),s}function A(e,t,n=!1){b!==null&&(!le||(b.f&yt)!==0)&&Fn()&&(b.f&(I|ge|Mt|yt))!==0&&(te===null||!Ie.call(te,e))&&Rr();let s=n?et(t):t;return y&&On(s,e.label),lt(e,s)}function lt(e,t){var r;if(!e.equals(t)){var n=e.v;De?ke.set(e,t):ke.set(e,n),e.v=t;var s=xt.ensure();if(s.capture(e,n),y){if(k!==null){e.updated??(e.updated=new Map);const i=(((r=e.updated.get(""))==null?void 0:r.count)??0)+1;if(e.updated.set("",{error:null,count:i}),i>5){const l=Pr("updated at");if(l!==null){let f=e.updated.get(l.stack);f||(f={error:l,count:0},e.updated.set(l.stack,f)),f.count++}}}k!==null&&(e.set_during_effect=!0)}if((e.f&I)!==0){const i=e;(e.f&Y)!==0&&rn(i),tn(i)}e.wv=tr(),Vn(e,Y),k!==null&&(k.f&F)!==0&&(k.f&(fe|Ze))===0&&(J===null?ds([e]):J.push(e)),!s.is_fork&&Ke.size>0&&!sn&&zn()}return t}function zn(){sn=!1;for(const e of Ke)(e.f&F)!==0&&L(e,Ne),ht(e)&&ot(e);Ke.clear()}function qt(e){A(e,e.v+1)}function Vn(e,t){var n=e.reactions;if(n!==null)for(var s=n.length,r=0;r<s;r++){var i=n[r],l=i.f;if(y&&(l&yt)!==0){Ke.add(i);continue}var f=(l&Y)===0;if(f&&L(i,t),(l&I)!==0){var v=i;q==null||q.delete(v),(l&Ae)===0&&(l&ee&&(i.f|=Ae),Vn(v,Ne))}else f&&((l&ge)!==0&&ne!==null&&ne.add(i),Le(i))}}const Jr=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function et(e){if(typeof e!="object"||e===null||Pt in e)return e;const t=xn(e);if(t!==mr&&t!==wr)return e;var n=new Map,s=Sn(e),r=X(0),i=qe,l=d=>{if(qe===i)return d();var a=b,u=qe;Te(null),pn(i);var w=d();return Te(a),pn(u),w};s&&(n.set("length",X(e.length)),y&&(e=Qr(e)));var f="";let v=!1;function c(d){if(!v){v=!0,f=d,ye(r,`${f} version`);for(const[a,u]of n)ye(u,Ce(f,a));v=!1}}return new Proxy(e,{defineProperty(d,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Cr();var w=n.get(a);return w===void 0?w=l(()=>{var o=X(u.value);return n.set(a,o),y&&typeof a=="string"&&ye(o,Ce(f,a)),o}):A(w,u.value,!0),!0},deleteProperty(d,a){var u=n.get(a);if(u===void 0){if(a in d){const w=l(()=>X($));n.set(a,w),qt(r),y&&ye(w,Ce(f,a))}}else A(u,$),qt(r);return!0},get(d,a,u){var m;if(a===Pt)return e;if(y&&a===Cn)return c;var w=n.get(a),o=a in d;if(w===void 0&&(!o||(m=mt(d,a))!=null&&m.writable)&&(w=l(()=>{var _=et(o?d[a]:$),p=X(_);return y&&ye(p,Ce(f,a)),p}),n.set(a,w)),w!==void 0){var g=E(w);return g===$?void 0:g}return Reflect.get(d,a,u)},getOwnPropertyDescriptor(d,a){var u=Reflect.getOwnPropertyDescriptor(d,a);if(u&&"value"in u){var w=n.get(a);w&&(u.value=E(w))}else if(u===void 0){var o=n.get(a),g=o==null?void 0:o.v;if(o!==void 0&&g!==$)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return u},has(d,a){var g;if(a===Pt)return!0;var u=n.get(a),w=u!==void 0&&u.v!==$||Reflect.has(d,a);if(u!==void 0||k!==null&&(!w||(g=mt(d,a))!=null&&g.writable)){u===void 0&&(u=l(()=>{var m=w?et(d[a]):$,_=X(m);return y&&ye(_,Ce(f,a)),_}),n.set(a,u));var o=E(u);if(o===$)return!1}return w},set(d,a,u,w){var U;var o=n.get(a),g=a in d;if(s&&a==="length")for(var m=u;m<o.v;m+=1){var _=n.get(m+"");_!==void 0?A(_,$):m in d&&(_=l(()=>X($)),n.set(m+"",_),y&&ye(_,Ce(f,m)))}if(o===void 0)(!g||(U=mt(d,a))!=null&&U.writable)&&(o=l(()=>X(void 0)),y&&ye(o,Ce(f,a)),A(o,et(u)),n.set(a,o));else{g=o.v!==$;var p=l(()=>et(u));A(o,p)}var S=Reflect.getOwnPropertyDescriptor(d,a);if(S!=null&&S.set&&S.set.call(w,u),!g){if(s&&typeof a=="string"){var T=n.get("length"),N=Number(a);Number.isInteger(N)&&N>=T.v&&A(T,N+1)}qt(r)}return!0},ownKeys(d){E(r);var a=Reflect.ownKeys(d).filter(o=>{var g=n.get(o);return g===void 0||g.v!==$});for(var[u,w]of n)w.v!==$&&!(u in d)&&a.push(u);return a},setPrototypeOf(){Mr()}})}function Ce(e,t){return typeof t=="symbol"?`${e}[Symbol(${t.description??""})]`:Jr.test(t)?`${e}.${t}`:/^\d+$/.test(t)?`${e}[${t}]`:`${e}['${t}']`}const Xr=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function Qr(e){return new Proxy(e,{get(t,n,s){var r=Reflect.get(t,n,s);return Xr.has(n)?function(...i){Kr();var l=r.apply(this,i);return zn(),l}:r}})}var es,ts,ns;function Pe(e=""){return document.createTextNode(e)}function kt(e){return ts.call(e)}function _t(e){return ns.call(e)}function O(e,t){return kt(e)}function nt(e,t=!1){{var n=kt(e);return n instanceof Comment&&n.data===""?_t(n):n}}function R(e,t=1,n=!1){let s=e;for(;t--;)s=_t(s);return s}function rs(e){e.textContent=""}function Hn(){return!1}function Yn(e){var t=b,n=k;Te(null),$e(null);try{return e()}finally{Te(t),$e(n)}}function ss(e){k===null&&(b===null&&Ar(e),kr()),De&&xr(e)}function is(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Je(e,t,n){var s=k;if(y)for(;s!==null&&(s.f&yt)!==0;)s=s.parent;s!==null&&(s.f&K)!==0&&(e|=K);var r={ctx:H,deps:null,nodes:null,f:e|Y|ee,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,wv:0,ac:null};if(y&&(r.component_function=dt),n)try{ot(r),r.f|=Xt}catch(f){throw pe(r),f}else t!==null&&Le(r);var i=r;if(n&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&Ct)===0&&(i=i.first,(e&ge)!==0&&(e&rt)!==0&&i!==null&&(i.f|=rt)),i!==null&&(i.parent=s,s!==null&&is(i,s),b!==null&&(b.f&I)!==0&&(e&Ze)===0)){var l=b;(l.effects??(l.effects=[])).push(i)}return r}function Bn(){return b!==null&&!le}function ls(e){const t=Je(Jt,null,!1);return L(t,F),t.teardown=e,t}function fs(e){ss("$effect"),y&&We(e,"name",{value:"$effect"});var t=k.f,n=!b&&(t&fe)!==0&&(t&Xt)===0;if(n){var s=H;(s.e??(s.e=[])).push(e)}else return Gn(e)}function Gn(e){return Je(Lt|Er,e,!1)}function os(e){return Je(Mt|Ct,e,!0)}function ie(e,t=[],n=[],s=[]){Vr(s,t,n,r=>{Je(Jt,()=>e(...r.map(E)),!0)})}function Wn(e,t=0){var n=Je(ge|t,e,!0);return y&&(n.dev_stack=st),n}function ft(e){return Je(fe|Ct,e,!0)}function Kn(e){var t=e.teardown;if(t!==null){const n=De,s=b;hn(!0),Te(null);try{t.call(null)}finally{hn(n),Te(s)}}}function Zn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const r=n.ac;r!==null&&Yn(()=>{r.abort(ze)});var s=n.next;(n.f&Ze)!==0?n.parent=null:pe(n,t),n=s}}function as(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&fe)===0&&pe(t),t=n}}function pe(e,t=!0){var n=!1;(t||(e.f&Nn)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(us(e.nodes.start,e.nodes.end),n=!0),Zn(e,t&&!n),At(e,0),L(e,Se);var s=e.nodes&&e.nodes.t;if(s!==null)for(const i of s)i.stop();Kn(e);var r=e.parent;r!==null&&r.first!==null&&Jn(e),y&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function us(e,t){for(;e!==null;){var n=e===t?null:_t(e);e.remove(),e=n}}function Jn(e){var t=e.parent,n=e.prev,s=e.next;n!==null&&(n.next=s),s!==null&&(s.prev=n),t!==null&&(t.first===e&&(t.first=s),t.last===e&&(t.last=n))}function ln(e,t,n=!0){var s=[];Xn(e,s,!0);var r=()=>{n&&pe(e),t&&t()},i=s.length;if(i>0){var l=()=>--i||r();for(var f of s)f.out(l)}else r()}function Xn(e,t,n){if((e.f&K)===0){e.f^=K;var s=e.nodes&&e.nodes.t;if(s!==null)for(const f of s)(f.is_global||n)&&t.push(f);for(var r=e.first;r!==null;){var i=r.next,l=(r.f&rt)!==0||(r.f&fe)!==0&&(e.f&ge)!==0;Xn(r,t,l?n:!1),r=i}}}function fn(e){Qn(e,!0)}function Qn(e,t){if((e.f&K)!==0){e.f^=K,(e.f&F)===0&&(L(e,Y),Le(e));for(var n=e.first;n!==null;){var s=n.next,r=(n.f&rt)!==0||(n.f&fe)!==0;Qn(n,r?t:!1),n=s}var i=e.nodes&&e.nodes.t;if(i!==null)for(const l of i)(l.is_global||t)&&l.in()}}function cs(e,t){if(e.nodes)for(var n=e.nodes.start,s=e.nodes.end;n!==null;){var r=n===s?null:_t(n);t.append(n),n=r}}let wt=!1,De=!1;function hn(e){De=e}let b=null,le=!1;function Te(e){b=e}let k=null;function $e(e){k=e}let te=null;function vs(e){b!==null&&(te===null?te=[e]:te.push(e))}let V=null,G=0,J=null;function ds(e){J=e}let er=1,Me=0,qe=Me;function pn(e){qe=e}function tr(){return++er}function ht(e){var t=e.f;if((t&Y)!==0)return!0;if(t&I&&(e.f&=~Ae),(t&Ne)!==0){for(var n=e.deps,s=n.length,r=0;r<s;r++){var i=n[r];if(ht(i)&&Un(i),i.wv>e.wv)return!0}(t&ee)!==0&&q===null&&L(e,F)}return!1}function nr(e,t,n=!0){var s=e.reactions;if(s!==null&&!(te!==null&&Ie.call(te,e)))for(var r=0;r<s.length;r++){var i=s[r];(i.f&I)!==0?nr(i,t,!1):t===i&&(n?L(i,Y):(i.f&F)!==0&&L(i,Ne),Le(i))}}function Bt(e){var g;var t=V,n=G,s=J,r=b,i=te,l=H,f=le,v=qe,c=e.f;V=null,G=0,J=null,b=(c&(fe|Ze))===0?e:null,te=null,Et(e.ctx),le=!1,qe=++Me,e.ac!==null&&(Yn(()=>{e.ac.abort(ze)}),e.ac=null);try{e.f|=Dt;var d=e.fn,a=d(),u=e.deps,w=x==null?void 0:x.is_fork;if(V!==null){var o;if(w||At(e,G),u!==null&&G>0)for(u.length=G+V.length,o=0;o<V.length;o++)u[G+o]=V[o];else e.deps=u=V;if(Bn()&&(e.f&ee)!==0)for(o=G;o<u.length;o++)((g=u[o]).reactions??(g.reactions=[])).push(e)}else!w&&u!==null&&G<u.length&&(At(e,G),u.length=G);if(Fn()&&J!==null&&!le&&u!==null&&(e.f&(I|Ne|Y))===0)for(o=0;o<J.length;o++)nr(J[o],e);if(r!==null&&r!==e){if(Me++,r.deps!==null)for(let m=0;m<n;m+=1)r.deps[m].rv=Me;if(t!==null)for(const m of t)m.rv=Me;J!==null&&(s===null?s=J:s.push(...J))}return(e.f&xe)!==0&&(e.f^=xe),a}catch(m){return Ir(m)}finally{e.f^=Dt,V=t,G=n,J=s,b=r,te=i,Et(l),le=f,qe=v}}function _s(e,t){let n=t.reactions;if(n!==null){var s=pr.call(n,e);if(s!==-1){var r=n.length-1;r===0?n=t.reactions=null:(n[s]=n[r],n.pop())}}if(n===null&&(t.f&I)!==0&&(V===null||!Ie.call(V,t))){var i=t;(i.f&ee)!==0&&(i.f^=ee,i.f&=~Ae),tn(i),Yt(i),At(i,0)}}function At(e,t){var n=e.deps;if(n!==null)for(var s=t;s<n.length;s++)_s(e,n[s])}function ot(e){var t=e.f;if((t&Se)===0){L(e,F);var n=k,s=wt;if(k=e,wt=!0,y){var r=dt;cn(e.component_function);var i=st;bt(e.dev_stack??st)}try{(t&(ge|An))!==0?as(e):Zn(e),Kn(e);var l=Bt(e);e.teardown=typeof l=="function"?l:null,e.wv=er;var f;y&&Fr&&(e.f&Y)!==0&&e.deps}finally{wt=s,k=n,y&&(cn(r),bt(i))}}}function E(e){var t=e.f,n=(t&I)!==0;if(b!==null&&!le){var s=k!==null&&(k.f&Se)!==0;if(!s&&(te===null||!Ie.call(te,e))){var r=b.deps;if((b.f&Dt)!==0)e.rv<Me&&(e.rv=Me,V===null&&r!==null&&r[G]===e?G++:V===null?V=[e]:V.push(e));else{(b.deps??(b.deps=[])).push(e);var i=e.reactions;i===null?e.reactions=[b]:Ie.call(i,b)||i.push(b)}}}if(y&&Yr.delete(e),De&&ke.has(e))return ke.get(e);if(n){var l=e;if(De){var f=l.v;return((l.f&F)===0&&l.reactions!==null||sr(l))&&(f=rn(l)),ke.set(l,f),f}var v=(l.f&ee)===0&&!le&&b!==null&&(wt||(b.f&ee)!==0),c=l.deps===null;ht(l)&&(v&&(l.f|=ee),Un(l)),v&&!c&&rr(l)}if(q!=null&&q.has(e))return q.get(e);if((e.f&xe)!==0)throw e.v;return e.v}function rr(e){if(e.deps!==null){e.f|=ee;for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&I)!==0&&(t.f&ee)===0&&rr(t)}}function sr(e){if(e.v===$)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(ke.has(t)||(t.f&I)!==0&&sr(t))return!0;return!1}function hs(e){var t=le;try{return le=!0,e()}finally{le=t}}const ps=new Set,gs=new Set;function ms(e){for(var t=0;t<e.length;t++)ps.add(e[t]);for(var n of gs)n(e)}function ws(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Tt(e,t){var n=k;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function j(e,t){var n=(t&vr)!==0,s=(t&dr)!==0,r,i=!e.startsWith("<!>");return()=>{r===void 0&&(r=ws(i?e:"<!>"+e),n||(r=kt(r)));var l=s||es?document.importNode(r,!0):r.cloneNode(!0);if(n){var f=kt(l),v=l.lastChild;Tt(f,v)}else Tt(l,l);return l}}function It(e=""){{var t=Pe(e+"");return Tt(t,t),t}}function gn(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Pe();return e.append(t,n),Tt(t,n),e}function C(e,t){e!==null&&e.before(t)}function D(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}var se,ve,W,Fe,ct,vt,Nt;class ys{constructor(t,n=!0){_e(this,"anchor");P(this,se,new Map);P(this,ve,new Map);P(this,W,new Map);P(this,Fe,new Set);P(this,ct,!0);P(this,vt,()=>{var t=x;if(h(this,se).has(t)){var n=h(this,se).get(t),s=h(this,ve).get(n);if(s)fn(s),h(this,Fe).delete(n);else{var r=h(this,W).get(n);r&&(h(this,ve).set(n,r.effect),h(this,W).delete(n),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),s=r.effect)}for(const[i,l]of h(this,se)){if(h(this,se).delete(i),i===t)break;const f=h(this,W).get(l);f&&(pe(f.effect),h(this,W).delete(l))}for(const[i,l]of h(this,ve)){if(i===n||h(this,Fe).has(i))continue;const f=()=>{if(Array.from(h(this,se).values()).includes(i)){var c=document.createDocumentFragment();cs(l,c),c.append(Pe()),h(this,W).set(i,{effect:l,fragment:c})}else pe(l);h(this,Fe).delete(i),h(this,ve).delete(i)};h(this,ct)||!s?(h(this,Fe).add(i),ln(l,f,!1)):f()}}});P(this,Nt,t=>{h(this,se).delete(t);const n=Array.from(h(this,se).values());for(const[s,r]of h(this,W))n.includes(s)||(pe(r.effect),h(this,W).delete(s))});this.anchor=t,he(this,ct,n)}ensure(t,n){var s=x,r=Hn();if(n&&!h(this,ve).has(t)&&!h(this,W).has(t))if(r){var i=document.createDocumentFragment(),l=Pe();i.append(l),h(this,W).set(t,{effect:ft(()=>n(l)),fragment:i})}else h(this,ve).set(t,ft(()=>n(this.anchor)));if(h(this,se).set(s,t),r){for(const[f,v]of h(this,ve))f===t?s.skipped_effects.delete(v):s.skipped_effects.add(v);for(const[f,v]of h(this,W))f===t?s.skipped_effects.delete(v.effect):s.skipped_effects.add(v.effect);s.oncommit(h(this,vt)),s.ondiscard(h(this,Nt))}else h(this,vt).call(this)}}se=new WeakMap,ve=new WeakMap,W=new WeakMap,Fe=new WeakMap,ct=new WeakMap,vt=new WeakMap,Nt=new WeakMap;if(y){let e=function(t){if(!(t in globalThis)){let n;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(n!==void 0)return n;Nr(t)},set:s=>{n=s}})}};var Js=e;e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}function Q(e,t,n=!1){var s=new ys(e),r=n?rt:0;function i(l,f){s.ensure(l,f)}Wn(()=>{var l=!1;t((f,v=!0)=>{l=!0,i(v,f)}),l||i(!1,null)},r)}function Gt(e,t){return t}function Es(e,t,n){for(var s=[],r=t.length,i,l=t.length,f=0;f<r;f++){let a=t[f];ln(a,()=>{if(i){if(i.pending.delete(a),i.done.add(a),i.pending.size===0){var u=e.outrogroups;Wt(Zt(i.done)),u.delete(i),u.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var v=s.length===0&&n!==null;if(v){var c=n,d=c.parentNode;rs(d),d.append(c),e.items.clear()}Wt(t,!v)}else i={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(i)}function Wt(e,t=!0){for(var n=0;n<e.length;n++)pe(e[n],t)}var mn;function Kt(e,t,n,s,r,i=null){var l=e,f=new Map;{var v=e;l=v.appendChild(Pe())}var c=null,d=Gr(()=>{var m=n();return Sn(m)?m:m==null?[]:Zt(m)}),a,u=!0;function w(){g.fallback=c,bs(g,a,l,t,s),c!==null&&(a.length===0?(c.f&be)===0?fn(c):(c.f^=be,tt(c,null,l)):ln(c,()=>{c=null}))}var o=Wn(()=>{a=E(d);for(var m=a.length,_=new Set,p=x,S=Hn(),T=0;T<m;T+=1){var N=a[T],U=s(N,T),M=u?null:f.get(U);M?(M.v&&lt(M.v,N),M.i&&lt(M.i,T),S&&p.skipped_effects.delete(M.e)):(M=Ss(f,u?l:mn??(mn=Pe()),N,U,T,r,t,n),u||(M.e.f|=be),f.set(U,M)),_.add(U)}if(m===0&&i&&!c&&(u?c=ft(()=>i(l)):(c=ft(()=>i(mn??(mn=Pe()))),c.f|=be)),!u)if(S){for(const[Z,B]of f)_.has(Z)||p.skipped_effects.add(B.e);p.oncommit(w),p.ondiscard(()=>{})}else w();E(d)}),g={effect:o,items:f,outrogroups:null,fallback:c};u=!1}function Qe(e){for(;e!==null&&(e.f&fe)===0;)e=e.next;return e}function bs(e,t,n,s,r){var Z;var i=t.length,l=e.items,f=Qe(e.effect.first),v,c=null,d=[],a=[],u,w,o,g;for(g=0;g<i;g+=1){if(u=t[g],w=r(u,g),o=l.get(w).e,e.outrogroups!==null)for(const B of e.outrogroups)B.pending.delete(o),B.done.delete(o);if((o.f&be)!==0)if(o.f^=be,o===f)tt(o,null,n);else{var m=c?c.next:f;o===e.effect.last&&(e.effect.last=o.prev),o.prev&&(o.prev.next=o.next),o.next&&(o.next.prev=o.prev),Ee(e,c,o),Ee(e,o,m),tt(o,m,n),c=o,d=[],a=[],f=Qe(c.next);continue}if((o.f&K)!==0&&fn(o),o!==f){if(v!==void 0&&v.has(o)){if(d.length<a.length){var _=a[0],p;c=_.prev;var S=d[0],T=d[d.length-1];for(p=0;p<d.length;p+=1)tt(d[p],_,n);for(p=0;p<a.length;p+=1)v.delete(a[p]);Ee(e,S.prev,T.next),Ee(e,c,S),Ee(e,T,_),f=_,c=T,g-=1,d=[],a=[]}else v.delete(o),tt(o,f,n),Ee(e,o.prev,o.next),Ee(e,o,c===null?e.effect.first:c.next),Ee(e,c,o),c=o;continue}for(d=[],a=[];f!==null&&f!==o;)(v??(v=new Set)).add(f),a.push(f),f=Qe(f.next);if(f===null)continue}(o.f&be)===0&&d.push(o),c=o,f=Qe(o.next)}if(e.outrogroups!==null){for(const B of e.outrogroups)B.pending.size===0&&(Wt(Zt(B.done)),(Z=e.outrogroups)==null||Z.delete(B));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||v!==void 0){var N=[];if(v!==void 0)for(o of v)(o.f&K)===0&&N.push(o);for(;f!==null;)(f.f&K)===0&&f!==e.fallback&&N.push(f),f=Qe(f.next);var U=N.length;if(U>0){var M=i===0?n:null;Es(e,N,M)}}}function Ss(e,t,n,s,r,i,l,f){var v=(l&ar)!==0?(l&cr)===0?Zr(n,!1,!1):it(n):null,c=(l&ur)!==0?it(r):null;return y&&v&&(v.trace=()=>{f()[(c==null?void 0:c.v)??r]}),{v,i:c,e:ft(()=>(i(t,v??n,c??r,f),()=>{e.delete(s)}))}}function tt(e,t,n){if(e.nodes)for(var s=e.nodes.start,r=e.nodes.end,i=t&&(t.f&be)===0?t.nodes.start:n;s!==null;){var l=_t(s);if(i.before(s),s===r)return;s=l}}function Ee(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}const xs=Symbol("is custom element"),ks=Symbol("is html");function As(e,t,n,s){var r=Ts(e);r[t]!==(r[t]=n)&&(n==null?e.removeAttribute(t):typeof n!="string"&&Ns(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ts(e){return e.__attributes??(e.__attributes={[xs]:e.nodeName.includes("-"),[ks]:e.namespaceURI===hr})}var wn=new Map;function Ns(e){var t=e.getAttribute("is")||e.nodeName,n=wn.get(t);if(n)return n;wn.set(t,n=[]);for(var s,r=e,i=Element.prototype;i!==r;){s=gr(r);for(var l in s)s[l].set&&n.push(l);r=xn(r)}return n}function Cs(e,t,n,s){var r=s,i=!0,l=()=>(i&&(i=!1,r=hs(s)),r),f;f=e[t],f===void 0&&s!==void 0&&(f=l());var v;return v=()=>{var c=e[t];return c===void 0?l():(i=!0,c)},v}var Ms=j('<li class="svelte-fybhor"> </li>'),Rs=j('<ul class="svelte-fybhor"></ul>'),Os=j('<p class="muted svelte-fybhor">No consensus points extracted.</p>'),Fs=j("<strong> </strong> ",1),Ps=j('<li class="svelte-fybhor"><!></li>'),$s=j('<ul class="svelte-fybhor"></ul>'),qs=j('<p class="muted svelte-fybhor">No major differences highlighted.</p>'),Is=j('<div class="comparison-view svelte-fybhor"><h3 class="svelte-fybhor">What sources agree on</h3> <!> <h3 class="svelte-fybhor">Where they differ</h3> <!></div>');function Ls(e,t){var w,o;Qt(t,!0);const n=((w=t.result)==null?void 0:w.narrative)??null,s=((o=t.result)==null?void 0:o.neutralSummary)??null,r=(n==null?void 0:n.commonPoints)??(s==null?void 0:s.consensusFacts)??[],i=(n==null?void 0:n.differences)??(s==null?void 0:s.disputedPoints)??[];var l=Is(),f=R(O(l),2);{var v=g=>{var m=Rs();Kt(m,21,()=>r,Gt,(_,p)=>{var S=Ms(),T=O(S);ie(N=>D(T,N),[()=>{var N;return typeof E(p)=="string"?E(p):((N=E(p))==null?void 0:N.claim)??JSON.stringify(E(p))}]),C(_,S)}),C(g,m)},c=g=>{var m=Os();C(g,m)};Q(f,g=>{r.length>0?g(v):g(c,!1)})}var d=R(f,4);{var a=g=>{var m=$s();Kt(m,21,()=>i,Gt,(_,p)=>{var S=Ps(),T=O(S);{var N=M=>{var Z=It();ie(()=>D(Z,E(p))),C(M,Z)},U=M=>{var Z=gn(),B=nt(Z);{var pt=me=>{var oe=Fs(),we=nt(oe),Xe=O(we),je=R(we);ie(ae=>{D(Xe,E(p).aspect),D(je,`: ${ae??""}`)},[()=>JSON.stringify(E(p).sourceViews??E(p).sources??"")]),C(me,oe)},Rt=me=>{var oe=gn(),we=nt(oe);{var Xe=ae=>{var ue=It();ie(()=>D(ue,E(p).claim)),C(ae,ue)},je=ae=>{var ue=It();ie(Ot=>D(ue,Ot),[()=>JSON.stringify(E(p))]),C(ae,ue)};Q(we,ae=>{var ue;(ue=E(p))!=null&&ue.claim?ae(Xe):ae(je,!1)},!0)}C(me,oe)};Q(B,me=>{var oe;(oe=E(p))!=null&&oe.aspect?me(pt):me(Rt,!1)},!0)}C(M,Z)};Q(T,M=>{typeof E(p)=="string"?M(N):M(U,!1)})}C(_,S)}),C(g,m)},u=g=>{var m=qs();C(g,m)};Q(d,g=>{i.length>0?g(a):g(u,!1)})}C(e,l),en()}var Ds=j('· <span class="bias svelte-7a48nw"> </span> ',1),js=j('<a class="source-card svelte-7a48nw" target="_blank" rel="noopener noreferrer"><span class="title svelte-7a48nw"> </span> <span class="meta svelte-7a48nw"> <!></span></a>');function Us(e,t){Qt(t,!0);let n=Cs(t,"source",19,()=>({}));const s=n().url??"#",r=n().title??"Untitled",i=n().source??"Unknown",l=n().biasScore,f=n().biasDirection??"",v=l!=null?(l*100).toFixed(0)+"%":"—";var c=js(),d=O(c),a=O(d),u=R(d,2),w=O(u),o=R(w);{var g=m=>{var _=Ds(),p=R(nt(_)),S=O(p),T=R(p);ie(()=>{D(S,f),D(T,` (${v})`)}),C(m,_)};Q(o,m=>{f&&m(g)})}ie(()=>{As(c,"href",s),D(a,r),D(w,`${i??""} `)}),C(e,c),en()}var zs=j('<button class="primary svelte-1n46o8q">Get neutral view</button>'),Vs=j('<div class="status loading svelte-1n46o8q">Analyzing… (searching related sources)</div>'),Hs=j('<div class="status error svelte-1n46o8q"> </div>'),Ys=j('<p class="muted svelte-1n46o8q"> </p>'),Bs=j('<div class="badge-row svelte-1n46o8q"><span class="badge svelte-1n46o8q"> </span></div> <section class="card summary-card svelte-1n46o8q"><h2 class="svelte-1n46o8q">Neutral summary</h2> <p class="svelte-1n46o8q"> </p></section> <section class="card bias-card svelte-1n46o8q"><h2 class="svelte-1n46o8q">Bias (current article)</h2> <p class="bias-label svelte-1n46o8q"> </p> <!></section> <button class="secondary svelte-1n46o8q"> </button> <!> <section class="sources-section svelte-1n46o8q"><h2 class="svelte-1n46o8q">Sources</h2> <div class="source-grid svelte-1n46o8q"></div></section>',1),Gs=j('<main class="popup svelte-1n46o8q"><header class="svelte-1n46o8q"><h1 class="svelte-1n46o8q">News Neutralizer</h1> <p class="subtitle svelte-1n46o8q">See how multiple sources cover the same story</p></header> <!> <!> <!> <!></main>');function Ws(e,t){Qt(t,!0);let n=X("idle"),s=X(""),r=X(null),i=X(!1);async function l(){A(n,"loading"),A(s,""),A(r,null);try{const[_]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!(_!=null&&_.id)){A(n,"error"),A(s,"No active tab");return}const p=await chrome.tabs.sendMessage(_.id,{type:"GET_PAGE_ARTICLE"});if(chrome.runtime.lastError){A(n,"error"),A(s,"Open a news article page first.");return}if(!(p!=null&&p.content)||p.content.length<50){A(n,"error"),A(s,"Could not find enough text on this page.");return}const S=await chrome.runtime.sendMessage({type:"ANALYZE_PAGE",payload:p});S!=null&&S.ok?(A(r,S,!0),A(n,"done")):(A(n,"error"),A(s,(S==null?void 0:S.error)||"Analysis failed",!0))}catch(_){A(n,"error"),A(s,(_==null?void 0:_.message)||"Something went wrong",!0)}}async function f(){const _=await chrome.runtime.sendMessage({type:"GET_LAST_RESULT"});_!=null&&_.ok&&(A(r,_,!0),A(n,"done"))}fs(()=>{f().catch(()=>{})});var v=Gs(),c=R(O(v),2);{var d=_=>{var p=zs();p.__click=l,ie(()=>p.disabled=E(n)==="loading"),C(_,p)};Q(c,_=>{(E(n)==="idle"||E(n)==="error")&&_(d)})}var a=R(c,2);{var u=_=>{var p=Vs();C(_,p)};Q(a,_=>{E(n)==="loading"&&_(u)})}var w=R(a,2);{var o=_=>{var p=Hs(),S=O(p);ie(()=>D(S,E(s))),C(_,p)};Q(w,_=>{E(n)==="error"&&_(o)})}var g=R(w,2);{var m=_=>{var p=Bs(),S=nt(p),T=O(S),N=O(T),U=R(S,2),M=R(O(U),2),Z=O(M),B=R(U,2),pt=R(O(B),2),Rt=O(pt),me=R(pt,2);{var oe=z=>{var ce=Ys(),ir=O(ce);ie(()=>D(ir,E(r).bias.overallAssessment)),C(z,ce)};Q(me,z=>{var ce;(ce=E(r).bias)!=null&&ce.overallAssessment&&z(oe)})}var we=R(B,2);we.__click=()=>A(i,!E(i));var Xe=O(we),je=R(we,2);{var ae=z=>{Ls(z,{get result(){return E(r)}})};Q(je,z=>{E(i)&&z(ae)})}var ue=R(je,2),Ot=R(O(ue),2);Kt(Ot,21,()=>E(r).sources??[],Gt,(z,ce)=>{Us(z,{get source(){return E(ce)}})}),ie(z=>{var ce;D(N,`${E(r).sourceCount??""} sources analyzed`),D(Z,((ce=E(r).neutralSummary)==null?void 0:ce.summary)??"—"),D(Rt,`${E(r).biasLabel??"—"??""} (score: ${z??""})`),D(Xe,`${E(i)?"Hide":"Show"} comparison`)},[()=>{var z;return((z=E(r).bias)==null?void 0:z.biasScore)!=null?E(r).bias.biasScore.toFixed(2):"—"}]),C(_,p)};Q(g,_=>{E(n)==="done"&&E(r)&&_(m)})}C(e,v),en()}ms(["click"]);new Ws({target:document.getElementById("app")});
